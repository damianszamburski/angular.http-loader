"use strict";angular.module("angular.http-loader",[]).factory("httpInterceptor",["$q","$rootScope","$log","$injector",function(e,f,i,h){f.httpLoader={};return{request:c,response:b,responseError:g};function c(j){a(j);return j||e.when(j)}function b(j){d(j.config);return j||e.when(j)}function g(j){d(j.config);return e.reject(j)}function a(j){if(typeof j.loader!="undefined"){f.httpLoader[j.loader]=(typeof f.httpLoader[j.loader]!="undefined"&&f.httpLoader[j.loader]>0)?++f.httpLoader[j.loader]:1}}function d(j){if(typeof j.loader!="undefined"){--f.httpLoader[j.loader]}}}]).config(["$httpProvider",function(a){a.interceptors.push("httpInterceptor")}]).directive("ngLoader",["$timeout","$rootScope",function(b,a){return{restrict:"A",link:function(j,d,h){var f=h.ngLoader.split(" "),c=[],e=[],i="ajax-loading",k=(typeof h.ngLoaderInit!="undefined")?h.ngLoaderInit:false;for(var g in f){c.push("httpLoader."+f[g])}if(k){d.addClass(i)}a.$watchGroup(c,function(m,l){for(var n in m){if(typeof m[n]=="undefined"){continue}if(m[n]>0){e[n]=m[n]}else{e.splice(n)}}if(e.length>0){d.addClass(i)}else{d.removeClass(i)}},true)}}}]);